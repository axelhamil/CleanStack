# D√©veloppement IA

CleanStack est le **premier starter Next.js optimis√© pour le d√©veloppement avec IA**.

## Pourquoi CleanStack est AI-Friendly

### üéØ Patterns r√©p√©tables

L'IA reconna√Æt instantan√©ment les patterns DDD :

```typescript
// L'IA sait que c'est un Value Object
export class Email extends ValueObject<EmailProps> {
  protected validate(value: EmailProps): Result<EmailProps> {
    // Pattern reconnu ‚Üí g√©n√®re validation correcte
  }
}

// L'IA sait que c'est une Entity
export class User extends Entity<UserProps> {
  static create(props: CreateUserProps): Result<User> {
    // Pattern reconnu ‚Üí g√©n√®re factory method correct
  }
}

// L'IA sait que c'est un Use Case
export class CreateUserUseCase implements UseCase<Input, Output> {
  async execute(input: Input): Promise<Result<Output>> {
    // Pattern reconnu ‚Üí g√©n√®re orchestration correcte
  }
}
```

**R√©sultat :** L'IA g√©n√®re du code coh√©rent qui respecte vos patterns.

### üìÅ Architecture explicite

L'IA sait **exactement o√π placer chaque fichier** :

```
domain/          ‚Üê Value Objects, Entities (ZERO dependencies)
application/     ‚Üê Use Cases, Ports (interfaces)
adapters/        ‚Üê Controllers, Repositories (impl√©mentations)
```

**Prompt :** "Ajoute un champ phoneNumber √† User"

**L'IA sait :**
1. Cr√©er `PhoneNumber.ts` dans **domain/user/**
2. Ajouter `phoneNumber: PhoneNumber` √† `UserProps`
3. Mettre √† jour `CreateUserUseCase` dans **application/**
4. Modifier `UserMapper` dans **adapters/**

### üîí Types stricts

TypeScript + Result + Option = L'IA ne peut pas tricher :

```typescript
// ‚ùå L'IA ne peut PAS g√©n√©rer √ßa (TypeScript error)
const user = await userRepo.findById(id)
console.log(user.email)  // Type error: user is Result<Option<User>>

// ‚úÖ L'IA DOIT g√©n√©rer √ßa
const result = await userRepo.findById(id)
if (result.isFailure) return Result.fail(result.getError())

const userOption = result.getValue()
if (userOption.isNone()) return Result.fail('User not found')

const user = userOption.unwrap()
console.log(user.get('email').value.value)
```

**R√©sultat :** Le compilateur force l'IA √† √©crire du code correct.

### üìö Documentation compl√®te

Chaque pattern a une documentation d√©taill√©e avec exemples :

- [Value Objects](/docs/core-concepts/value-objects) - Comment cr√©er
- [Entities](/docs/core-concepts/entities) - Comment utiliser `get()`
- [Use Cases](/docs/guides/first-use-case) - Pattern complet
- [Repositories](/docs/architecture/layers) - Interfaces vs impl√©mentations

L'IA lit cette doc et g√©n√®re du code conforme.

## Outils IA support√©s

### ‚ö° Claude Code (Recommand√©)

Le meilleur outil pour CleanStack. Utilise Claude Sonnet 4.5.

**Pourquoi ?**
- ‚úÖ Comprend Clean Architecture nativement
- ‚úÖ Respecte la Dependency Rule automatiquement
- ‚úÖ G√©n√®re des Use Cases complets en une commande
- ‚úÖ D√©tecte les violations d'architecture

[Guide complet Claude Code ‚Üí](/docs/ai/claude-code)

### üé® Cursor

Excellent pour l'√©dition contextuelle et les petites modifications.

**Pourquoi ?**
- ‚úÖ Autocompl√©tion intelligente
- ‚úÖ Modifications multi-fichiers
- ‚úÖ Chat avec le codebase

[Guide complet Cursor ‚Üí](/docs/ai/cursor)

### ü§ñ GitHub Copilot

Bon pour l'autocompl√©tion, mais moins performant sur l'architecture.

**Limitations :**
- ‚ö†Ô∏è Ne comprend pas toujours la Dependency Rule
- ‚ö†Ô∏è Peut g√©n√©rer des violations (imports interdits)
- ‚ö†Ô∏è N√©cessite plus de guidance

## Exemples concrets

### Cr√©er un nouveau feature complet

**Prompt pour Claude Code :**
```
Cr√©e un feature Product complet :
- Value Object: Price (montant + devise)
- Entity: Product (name, description, price)
- Use Case: CreateProductUseCase
- Repository: IProductRepository + DrizzleProductRepository
- Route API: POST /api/products
- Ajoute au DI container
```

**R√©sultat :** L'IA g√©n√®re 6-8 fichiers parfaitement structur√©s et conformes.

### Ajouter validation complexe

**Prompt :**
```
Dans le User, ajoute une m√©thode canPurchase() qui v√©rifie :
1. User est actif
2. User n'est pas banni
3. User a un email v√©rifi√©
4. User a une adresse
Retourne Result<boolean> avec message d'erreur explicite
```

**R√©sultat :** M√©thode g√©n√©r√©e dans le Domain, pas dans le Controller.

### Refactoring safe

**Prompt :**
```
Renomme Email en EmailAddress partout dans le projet.
Assure-toi de mettre √† jour :
- Domain
- Application (use cases)
- Adapters (repositories, mappers)
- Tests
```

**R√©sultat :** Refactoring complet sans casser l'architecture.

## Prompts utiles

Consultez notre collection de prompts test√©s :

[Prompts AI ‚Üí](/docs/ai/prompts)

## Best Practices IA

### ‚úÖ √Ä faire

**Donner du contexte architectural**
```
"Dans le domain layer, cr√©e un Value Object Money qui..."
```

**Sp√©cifier les patterns**
```
"Cr√©e un Use Case qui retourne Result<User>"
```

**R√©f√©rencer les layers**
```
"L'interface IUserRepository va dans application/ports/,
l'impl√©mentation DrizzleUserRepository dans adapters/out/"
```

**Demander des tests**
```
"G√©n√®re aussi les tests unitaires pour ce Value Object"
```

### ‚ùå √Ä √©viter

**Prompts vagues**
```
"Ajoute un user"  // O√π ? Comment ? Quel pattern ?
```

**Demander des violations**
```
"Dans le domain, ajoute un appel √† la DB"  // ‚ùå Violation
```

**Oublier les types**
```
"Retourne l'user"  // Result<User> ? Option<User> ? User | null ?
```

## Avantages CleanStack + IA

| Crit√®re | CleanStack | Starter classique |
|---------|------------|-------------------|
| **Vitesse de dev** | 10x plus rapide | Baseline |
| **Qualit√© du code** | ‚úÖ Patterns forc√©s | ‚ö†Ô∏è Inconsistant |
| **Refactoring** | ‚úÖ Safe (types stricts) | ‚ö†Ô∏è Risqu√© |
| **Onboarding** | 1 jour (IA + doc) | 1-2 semaines |
| **Maintenance** | ‚úÖ Code pr√©visible | ‚ö†Ô∏è D√©pend du dev |

## D√©monstration

Vid√©o de cr√©ation d'un feature complet avec Claude Code en 5 minutes :

<video src="/demos/claude-code-demo.mp4" controls />

## Prochaines √©tapes

- [Guide Claude Code ‚Üí](/docs/ai/claude-code) - Setup et exemples
- [Guide Cursor ‚Üí](/docs/ai/cursor) - Configuration
- [Prompts utiles ‚Üí](/docs/ai/prompts) - Collection test√©e
- [Votre premier Use Case ‚Üí](/docs/guides/first-use-case) - Tuto complet
